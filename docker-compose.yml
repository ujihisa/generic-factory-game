version: '3'
services:
  generic-factory-game:
    container_name: generic-factory-game
    build:
      context: .
      args:
        RUBY_VERSION: 2.7.2
    ports:
    - 3000
    environment:
    - PORT=3000
    - RAILS_ENV=development
    volumes:
      - .:/app
      - vendor:/app/vendor
      - node_modules:/app/node_modules
  yaichi:
    image: mtsmfm/yaichi:1.7.0
    ports:
      - 80:3000
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
volumes:
  vendor:
  node_modules:
